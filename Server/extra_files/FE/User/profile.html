<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kontroller</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/custom.css">
</head>

<body class="bg-slate-900 text-white">
    <!-- Header with Avatar, Username and Main Toolbar -->
    <header class="bg-gray-800 border-b border-gray-700 sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 py-4">
            <!-- Top Bar with Avatar, Username and Search -->
            <div class="flex flex-col md:flex-row items-center justify-between mb-4 space-y-4 md:space-y-0">
                <!-- Left side: Avatar and Username -->
                <div class="flex items-center space-x-3 relative">
                    <img src="https://via.placeholder.com/50x50" id="avatar" alt="Avatar"
                        class="w-12 h-12 rounded-full border-2 border-blue-500">
                    <div>
                        <div class="flex items-center space-x-2">
                            <h2 id="usernameDisplay" class="text-lg font-bold text-white">Username</h2>
                            <button id="editButton"
                                class="bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded-lg font-medium text-white">Edit</button>
                        </div>

                        <!-- Edit Mode -->
                        <div id="editMode" class="hidden fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2
                                bg-gray-800 p-4 rounded-lg shadow-lg w-80 z-50">
                            <div class="flex justify-between mb-4">
                                <button id="cancelEdit" class="text-red-400 hover:text-red-300">Cancel</button>
                                <button id="saveEdit" class="text-green-400 hover:text-green-300">Save</button>
                            </div>
                            <div class="space-y-4">
                                <!-- Edit Avatar -->
                                <div>
                                    <label class="block text-sm text-gray-400">Change Avatar</label>
                                    <div
                                        class="w-20 h-20 rounded-full overflow-hidden border-2 border-gray-600 cursor-pointer">
                                        <input type="file" id="editAvatar" class="hidden" accept="image/*">
                                        <img id="avatarPreview" src="https://via.placeholder.com/50x50"
                                            alt="Avatar Preview" class="w-full h-full object-cover">
                                    </div>
                                </div>

                                <!-- Edit Password -->
                                <div class="space-y-2"> <!-- Added spacing with space-y-2 -->
                                    <label class="block text-sm text-gray-400">Change Password</label>
                                    <input id="oldPassword" type="password" placeholder="Enter old password"
                                        class="w-full bg-gray-700 text-white px-3 py-2 rounded-lg border border-gray-600 focus:border-blue-500 focus:outline-none">
                                    <input id="newPassword" type="password" placeholder="Enter new password"
                                        class="w-full bg-gray-700 text-white px-3 py-2 rounded-lg border border-gray-600 focus:border-blue-500 focus:outline-none">
                                </div>

                                <!-- Edit Email -->
                                <div>
                                    <label class="block text-sm text-gray-400">Change Email</label>
                                    <input id="editEmail" type="email" placeholder="Enter new email"
                                        class="w-full bg-gray-700 text-white px-3 py-2 rounded-lg border border-gray-600 focus:border-blue-500 focus:outline-none">
                                </div>

                                <!-- Edit Name -->
                                <div>
                                    <label class="block text-sm text-gray-400">Name</label>
                                    <input id="editName" type="text" placeholder="Enter new username"
                                        class="w-full bg-gray-700 text-white px-3 py-2 rounded-lg border border-gray-600 focus:border-blue-500 focus:outline-none">
                                </div>

                                <!-- Logout -->
                                <div>
                                    <button id="button-logout"
                                        class="w-full bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg transition-colors duration-200 font-medium">
                                        Log out
                                    </button>
                                </div>

                                <!-- Delete Account Section -->
                                <div class="pt-4 border-t border-gray-600">
                                    <h3 class="text-sm font-semibold text-red-400 mb-2">Danger Zone</h3>
                                    <input type="password" id="deletePassword" placeholder="Nhập mật khẩu để xác nhận">
                                    <button id="deleteAccount"
                                        class="w-full bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg transition-colors duration-200 font-medium">
                                        Delete Account
                                    </button>
                                    <p class="text-xs text-gray-400 mt-2">This action cannot be undone. All your data
                                        will be permanently deleted.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Right side: Search -->
                <div class="w-full md:w-auto">
                    <div class="relative ml-auto w-64 max-[520px]:w-full max-[520px]:max-w-[520px]">
                        <input type="text" placeholder="Search for games"
                            class="w-full bg-gray-700 text-white px-4 py-2 pr-10 rounded-lg border border-gray-600 focus:border-blue-500 focus:outline-none" />
                        <i class="fas fa-search absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                    </div>
                </div>
            </div>
            <!-- Main Navigation -->
            <nav class="flex space-x-4 overflow-x-auto pb-2">
                <a href="home.html"
                    class="px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors whitespace-nowrap">Home</a>
                <a href="#" class="bg-blue-600 text-white px-4 py-2 rounded-lg whitespace-nowrap">Profile</a>
                <a href="reviews.html"
                    class="px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors whitespace-nowrap">Reviews</a>
                <a href="games.html"
                    class="px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors whitespace-nowrap">Games</a>
                <a href="reaction.html"
                    class="px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors whitespace-nowrap">Reaction</a>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
<main class="container mx-auto px-6 py-8">
    <div class="grid grid-cols-1 lg:grid-cols-[1.5fr,3fr,1.5fr] gap-8">
        <!-- Left Column: Stats and Followers/Following -->
        <div class="space-y-8">
            <!-- Stats Bar -->
            <section class="bg-gray-800 p-4 rounded-lg" id="statsBar">
                <div class="flex justify-around items-center">
                    <a href="followers.html"
                        class="group text-center hover:bg-gray-700 p-2 rounded transition-colors">
                        <div id="numberFollower" class="text-xl font-bold text-blue-400 group-hover:text-blue-300">245</div>
                        <div class="text-sm text-gray-400 group-hover:text-gray-300">Followers</div>
                    </a>
                    <a href="following.html"
                        class="group text-center hover:bg-gray-700 p-2 rounded transition-colors">
                        <div id="numberFollowing" class="text-xl font-bold text-blue-400 group-hover:text-blue-300">180</div>
                        <div class="text-sm text-gray-400 group-hover:text-gray-300">Following</div>
                    </a>
                    <a href="#" class="group text-center hover:bg-gray-700 p-2 rounded transition-colors">
                        <div id="gamesLogged" class="text-xl font-bold text-blue-400 group-hover:text-blue-300">89</div>
                        <div class="text-sm text-gray-400 group-hover:text-gray-300">Games Logged</div>
                    </a>
                </div>
            </section>
            <!-- Followers and Following -->
            <div class="bg-gray-800 p-4 rounded-lg min-h-fit" id="followSection">
                <h2 class="text-xl font-bold mb-4">Followers</h2>
                <div class="grid grid-cols-2 gap-8 mb-6" id="followersList">
                    <!-- Dynamic content will be inserted here -->
                </div>
                <h2 class="text-xl font-bold mb-4">Following</h2>
                <div class="grid grid-cols-2 gap-8" id="followingList">
                    <!-- Dynamic content will be inserted here -->
                </div>
            </div>
        </div>
        <!-- Middle Column: Highest Rated Games -->
        <div class="space-y-8">
            <div class="bg-gray-800 p-6 rounded-lg min-h-fit" id="highestRatedGames">
                <h2 class="text-xl font-bold mb-4">Highest Rated Games</h2>
                <div class="space-y-4" id="highestRatedList">
                    <!-- Dynamic content will be inserted here -->
                </div>
            </div>
        </div>
        <!-- Right Column: Recently Rated Games -->
        <div class="space-y-8">
            <div class="bg-gray-800 p-5 rounded-lg min-h-fit" id="recentlyRatedGames">
                <h2 class="text-xl font-bold mb-4">Recently Rated Games</h2>
                <div class="space-y-2" id="recentlyRatedList">
                    <!-- Dynamic content will be inserted here -->
                </div>
            </div>
        </div>
    </div>
</main>

    <!-- Search Popup -->
    <div id="searchPopup" class="hidden">
        <span class="close-btn" id="closeSearchPopup">&times;</span>
        <div class="relative">
            <input type="text" id="searchInput" placeholder="Search for games"
                class="bg-gray-700 text-white px-4 py-2 pr-10 rounded-lg border border-gray-600 focus:border-blue-500 focus:outline-none w-64">
            <i class="fas fa-search absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
        </div>
    </div>

    <script type="module" src="./js/event.js"></script>
</body>

</html>